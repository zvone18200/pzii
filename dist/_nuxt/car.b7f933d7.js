import{u as M}from"./useCars.45e6d2fc.js";import{r as x,q as g,K as V,b as j,o as d,j as p,l as e,t as _,u as i,w as b,v as h,L as B,s as y,F as A,m as E,x as R,E as $,e as q,a as z,M as T,k,N as C,O as U}from"./entry.5d8d0cd0.js";import{u as L}from"./composables.69376fc2.js";import{u as S}from"./useUtilities.50e64ac7.js";const D={class:"shadow border w-64 mr-10 z-30 h-[190px]"},F={class:"p-5 flex justify-between relative cursor-pointer border-b"},H=e("h3",null,"Grad",-1),I={key:0,class:"absolute border shadow left-56 p-5 top-1 -m-1 bg-white"},G={class:"p-5 flex justify-between relative cursor-pointer border-b"},K=e("h3",null,"Marka",-1),O={key:0,class:"absolute border shadow left-56 p-5 top-1 -m-1 w-[600px] flex justify-between flex-wrap bg-white"},J=["onClick"],Q={class:"p-5 flex justify-between relative cursor-pointer border-b"},W=e("h3",null,"Cijena",-1),X={key:0,class:"absolute border sahow left-56 p-5 top-1 -m-1 bg-white"},Y={__name:"SideBar",setup(f){const{makes:o}=M(),u=x({make:!1,location:!1,price:!1}),n=x(""),a=x({min:"",max:""}),r=g(),m=V(),v=j(()=>{const l=r.query.minPrice,t=r.query.maxPrice;return!l&&!t?"Any":!l&&t?`< $${t}`:l&&!t?`> $${l}`:`$${l}-$${t}`}),c=l=>{u.value[l]=!u.value[l]},w=()=>{if(!!n.value){if(!isNaN(parseInt(n.value)))throw R({statusCode:400,message:"Invalid city format"});c("location"),$(`/city/${n.value}/car/${r.params.make}`),n.value=""}},N=l=>{c("make"),$(`/city/${r.params.city}/car/${l}`)},P=()=>{c("price"),!(a.value.max&&a.value.min&&a.value.min>a.value.max)&&m.push({query:{minPrice:a.value.min,maxPrice:a.value.max}})};return(l,t)=>(d(),p("div",D,[e("div",F,[H,e("h3",{onClick:t[0]||(t[0]=s=>c("location")),class:"text-blue-400 capitalize"},_(i(r).params.city),1),i(u).location?(d(),p("div",I,[b(e("input",{type:"text",class:"border p-1 rounded","onUpdate:modelValue":t[1]||(t[1]=s=>B(n)?n.value=s:null)},null,512),[[h,i(n)]]),e("button",{onClick:w,class:"bg-blue-400 w-full mt-2 rounded text-white p-1"}," Apply ")])):y("",!0)]),e("div",G,[K,e("h3",{class:"text-blue-400 capitalize",onClick:t[2]||(t[2]=s=>c("make"))},_(i(r).params.make||"Any"),1),i(u).make?(d(),p("div",O,[(d(!0),p(A,null,E(i(o),s=>(d(),p("h4",{key:s,class:"w-1/3",onClick:oe=>N(s)},_(s),9,J))),128))])):y("",!0)]),e("div",Q,[W,e("h3",{class:"text-blue-400 capitalize",onClick:t[3]||(t[3]=s=>c("price"))},_(i(v)),1),i(u).price?(d(),p("div",X,[b(e("input",{class:"border p-1 rounded",type:"number",placeholder:"Min","onUpdate:modelValue":t[4]||(t[4]=s=>i(a).min=s)},null,512),[[h,i(a).min]]),b(e("input",{class:"border p-1 rounded",type:"number",placeholder:"Max","onUpdate:modelValue":t[5]||(t[5]=s=>i(a).max=s)},null,512),[[h,i(a).max]]),e("button",{class:"bg-blue-400 w-full mt-2 rounded text-white p-1",onClick:P}," Potvrdi ")])):y("",!0)])]))}},Z=q({emits:{error(f){return!0}},setup(f,{slots:o,emit:u}){const n=x(null),a=z();return T(r=>{if(!a.isHydrating)return u("error",r),n.value=r,!1}),()=>{var r,m;return n.value?(r=o.error)==null?void 0:r.call(o,{error:n}):(m=o.default)==null?void 0:m.call(o)}}}),ee={class:"mt-32 flex"},te={class:"text-center mx-auto flex flex-col"},re=e("h1",{class:"text-5xl text-red-600 mb-4"}," nesto ne radi ",-1),ae=["onClick"],ue={__name:"car",setup(f){const o=g(),{toTitleCase:u}=S();return L({title:`${o.params.make?u(o.params.make):"Cars"} in ${u(o.params.city)}`}),(n,a)=>{const r=Y,m=U,v=Z;return d(),p("div",null,[e("div",ee,[k(v,null,{error:C(({error:c})=>[e("div",te,[re,e("code",null,_(c),1),e("button",{class:"text-white bg-blue-400 px-10 py-3 rounded mt-4",onClick:w=>c.value=null}," Vrati se ",8,ae)])]),default:C(()=>[k(r),k(m)]),_:1})])])}}};export{ue as default};
