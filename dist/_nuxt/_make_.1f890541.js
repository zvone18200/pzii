import{e as te,r as I,f as U,j as g,l as f,h as $,i as re,o as h,u as v,t as j,E as ae,G as ne,B as A,H as se,I as oe,J as ie,F as le,m as ue,c as z,x as ce,q as fe,y as pe}from"./entry.5d8d0cd0.js";import{u as de}from"./fetch.91d3daae.js";te({name:"ClientOnly",inheritAttrs:!1,props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(e,{slots:t,attrs:r}){const a=I(!1);return U(()=>{a.value=!0}),n=>{var i;if(a.value)return(i=t.default)==null?void 0:i.call(t);const s=t.fallback||t.placeholder;if(s)return s();const l=n.fallback||n.placeholder||"",u=n.fallbackTag||n.placeholderTag||"span";return g(u,r,l)}}});const x=new WeakMap;function ve(e){if(x.has(e))return x.get(e);const t={...e};return t.render?t.render=(r,...a)=>{var n;if(r.mounted$){const s=e.render(r,...a);return s.children===null||typeof s.children=="string"?f(s.type,s.props,s.children,s.patchFlag,s.dynamicProps,s.shapeFlag):$(s)}else return $("div",(n=r.$attrs)!=null?n:r._.attrs)}:t.template&&(t.template=`
      <template v-if="mounted$">${e.template}</template>
      <template v-else><div></div></template>
    `),t.setup=(r,a)=>{var s;const n=I(!1);return U(()=>{n.value=!0}),Promise.resolve(((s=e.setup)==null?void 0:s.call(e,r,a))||{}).then(l=>typeof l!="function"?{...l,mounted$:n}:(...u)=>{if(n.value){const i=l(...u);return i.children===null||typeof i.children=="string"?f(i.type,i.props,i.children,i.patchFlag,i.dynamicProps,i.shapeFlag):$(i)}else return $("div",a.attrs)})},x.set(e,t),t}const _e=""+new URL("heartFilled.7a401f85.png",import.meta.url).href,me=""+new URL("heartOutline.cdbc192a.png",import.meta.url).href,he={class:"relative shadow border w-full overflow-hidden mb-5 cursor-pointer h-[200px]"},ye=["src"],we=["src"],ge={class:"p-4 flex flex-col"},Oe={class:"text-2xl text-blue-700"},be={class:"text-gray-700"},Pe={class:"mt-auto text-xl"},$e={__name:"Card.client",props:{car:Object,favored:Boolean},emits:["favor"],setup(e,{emit:t}){const r=re();return(a,n)=>(h(),g("div",he,[f("img",{class:"absolute w-7 right-5 top-2 z-20",src:e.favored?v(_e):v(me),alt:"",onClick:n[0]||(n[0]=s=>t("favor",e.car.id))},null,8,ye),f("div",{class:"flex h-full",onClick:n[1]||(n[1]=s=>v(ae)(`/car/${e.car.name}-${e.car.id}`))},[f("img",{src:`${v(r).public.supabase.url}/storage/v1/object/public/images/${e.car.image}`,class:"w-[300px] h-full"},null,8,we),f("div",ge,[f("div",null,[f("h1",Oe,j(e.car.name),1),f("p",be,j(e.car.description),1)]),f("h1",Pe,"$"+j(e.car.price),1)])]),ne(" wtf ")]))}};var R;const O=typeof window<"u",Se=e=>typeof e=="function",Fe=e=>typeof e=="string",Ie=()=>{};O&&((R=window==null?void 0:window.navigator)==null?void 0:R.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function q(e){return typeof e=="function"?e():v(e)}function Ee(e,t){function r(...a){e(()=>t.apply(this,a),{fn:t,thisArg:this,args:a})}return r}const H=e=>e();function je(e=H){const t=I(!0);function r(){t.value=!1}function a(){t.value=!0}return{isActive:t,pause:r,resume:a,eventFilter:(...s)=>{t.value&&e(...s)}}}function xe(e){return e}function Ce(e){return se()?(oe(e),!0):!1}var B=Object.getOwnPropertySymbols,Ne=Object.prototype.hasOwnProperty,Ae=Object.prototype.propertyIsEnumerable,Te=(e,t)=>{var r={};for(var a in e)Ne.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&B)for(var a of B(e))t.indexOf(a)<0&&Ae.call(e,a)&&(r[a]=e[a]);return r};function ke(e,t,r={}){const a=r,{eventFilter:n=H}=a,s=Te(a,["eventFilter"]);return A(e,Ee(n,t),s)}var Re=Object.defineProperty,Be=Object.defineProperties,De=Object.getOwnPropertyDescriptors,S=Object.getOwnPropertySymbols,G=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable,D=(e,t,r)=>t in e?Re(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Le=(e,t)=>{for(var r in t||(t={}))G.call(t,r)&&D(e,r,t[r]);if(S)for(var r of S(t))K.call(t,r)&&D(e,r,t[r]);return e},Qe=(e,t)=>Be(e,De(t)),We=(e,t)=>{var r={};for(var a in e)G.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&S)for(var a of S(e))t.indexOf(a)<0&&K.call(e,a)&&(r[a]=e[a]);return r};function Je(e,t,r={}){const a=r,{eventFilter:n}=a,s=We(a,["eventFilter"]),{eventFilter:l,pause:u,resume:i,isActive:d}=je(n);return{stop:ke(e,t,Qe(Le({},s),{eventFilter:l})),pause:u,resume:i,isActive:d}}function Ve(e){var t;const r=q(e);return(t=r==null?void 0:r.$el)!=null?t:r}const F=O?window:void 0;O&&window.document;O&&window.navigator;O&&window.location;function Me(...e){let t,r,a,n;if(Fe(e[0])||Array.isArray(e[0])?([r,a,n]=e,t=F):[t,r,a,n]=e,!t)return Ie;Array.isArray(r)||(r=[r]),Array.isArray(a)||(a=[a]);const s=[],l=()=>{s.forEach(c=>c()),s.length=0},u=(c,_,y)=>(c.addEventListener(_,y,n),()=>c.removeEventListener(_,y,n)),i=A(()=>Ve(t),c=>{l(),c&&s.push(...r.flatMap(_=>a.map(y=>u(c,_,y))))},{immediate:!0,flush:"post"}),d=()=>{i(),l()};return Ce(d),d}const C=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},N="__vueuse_ssr_handlers__";C[N]=C[N]||{};const Ue=C[N];function ze(e,t){return Ue[e]||t}function qe(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}var He=Object.defineProperty,L=Object.getOwnPropertySymbols,Ge=Object.prototype.hasOwnProperty,Ke=Object.prototype.propertyIsEnumerable,Q=(e,t,r)=>t in e?He(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,W=(e,t)=>{for(var r in t||(t={}))Ge.call(t,r)&&Q(e,r,t[r]);if(L)for(var r of L(t))Ke.call(t,r)&&Q(e,r,t[r]);return e};const Xe={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}};function Ye(e,t,r,a={}){var n;const{flush:s="pre",deep:l=!0,listenToStorageChanges:u=!0,writeDefaults:i=!0,mergeDefaults:d=!1,shallow:c,window:_=F,eventFilter:y,onError:E=o=>{console.error(o)}}=a,w=(c?ie:I)(t);if(!r)try{r=ze("getDefaultStorage",()=>{var o;return(o=F)==null?void 0:o.localStorage})()}catch(o){E(o)}if(!r)return w;const m=q(t),T=qe(m),b=(n=a.serializer)!=null?n:Xe[T],{pause:X,resume:Y}=Je(w,()=>Z(w.value),{flush:s,deep:l,eventFilter:y});return _&&u&&Me(_,"storage",k),k(),w;function Z(o){try{o==null?r.removeItem(e):r.setItem(e,b.write(o))}catch(p){E(p)}}function ee(o){X();try{const p=o?o.newValue:r.getItem(e);if(p==null)return i&&m!==null&&r.setItem(e,b.write(m)),m;if(!o&&d){const P=b.read(p);return Se(d)?d(P,m):T==="object"&&!Array.isArray(P)?W(W({},m),P):P}else return typeof p!="string"?p:b.read(p)}catch(p){E(p)}finally{Y()}}function k(o){if(!(o&&o.storageArea!==r)){if(o&&o.key===null){w.value=m;return}o&&o.key!==e||(w.value=ee(o))}}}function Ze(e,t,r={}){const{window:a=F}=r;return Ye(e,t,a==null?void 0:a.localStorage,r)}var J;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(J||(J={}));var et=Object.defineProperty,V=Object.getOwnPropertySymbols,tt=Object.prototype.hasOwnProperty,rt=Object.prototype.propertyIsEnumerable,M=(e,t,r)=>t in e?et(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,at=(e,t)=>{for(var r in t||(t={}))tt.call(t,r)&&M(e,r,t[r]);if(V)for(var r of V(t))rt.call(t,r)&&M(e,r,t[r]);return e};const nt={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};at({linear:xe},nt);const st=ve($e),ot={class:"w-full"},it={__name:"Cards",props:{cars:Array},setup(e){const t=Ze("favorite",{}),r=a=>{a in t.value?delete t.value[a]:t.value={...t.value,[a]:!0}};return(a,n)=>{const s=st;return h(),g("div",ot,[(h(!0),g(le,null,ue(e.cars,l=>(h(),z(s,{key:l.id,car:l,onFavor:r,favored:l.id in v(t)},null,8,["car","favored"]))),128))])}}},lt=async(e,t)=>{const{data:r,error:a,refresh:n}=await de(`/api/cars/${e}`,{params:{...t}},"$3y0lmp87o4");if(a.value)throw ce({...a.value,statusMessage:"Unable to fetch cars"});return{data:r,refresh:n}},ut={key:1,class:"text-red-600"},pt={__name:"[[make]]",async setup(e){let t,r;const a=fe(),{data:n,refresh:s}=([t,r]=pe(()=>lt(a.params.city,{minPrice:a.query.minPrice,maxPrice:a.query.maxPrice,make:a.params.make})),t=await t,r(),t);return A(()=>a.query,()=>{window.location.reload(!0)}),(l,u)=>{const i=it;return h(),g("div",null,[v(n).length?(h(),z(i,{key:0,cars:v(n)},null,8,["cars"])):(h(),g("h1",ut,"Nema tih auta"))])}}};export{pt as default};
